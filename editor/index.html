<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestor de Contenidos | Perspectivas</title>
</head>
<body>

  <!-- contenedor requerido por Decap CMS -->
  <div id="cms"></div>

  <!-- Script de depuraciÃ³n -->
  <script>
    window.addEventListener("message", function(event) {
      console.log("ðŸ“© MENSAJE RECIBIDO DESDE POPUP:", event.data);
    }, false);
  </script>

  <!-- ConfiguraciÃ³n de CMS: usar config.yml estÃ¡tico -->
  <script>
    window.CMS_CONFIGURATION = {
      config: '/editor/config.yml'
    };
  </script>

  <!-- InicializaciÃ³n manual de Decap CMS y media library de GitHub -->
  <script src="https://unpkg.com/decap-cms@3.9.0/dist/decap-cms.js"></script>
  <script src="https://unpkg.com/decap-cms-media-library-github@1.4.0/dist/decap-cms-media-library-github.js"></script>
  <script>
    (function waitAndRegister() {
      if (window.CMS && window.GitHubMediaLibrary) {
        window.CMS.registerMediaLibrary(window.GitHubMediaLibrary);
      } else {
        setTimeout(waitAndRegister, 50);
      }
    })();
  </script>

</body>
</html>
