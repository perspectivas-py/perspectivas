<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noticias | Perspectivas</title>
  <link rel="stylesheet" href="/style.css">
  <!-- LibrerÃ­a para leer Markdown -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body style="max-width:800px; margin:auto; padding:2rem; font-family:Arial;">
  <h1>ðŸ“° Noticias Locales</h1>
  <div id="noticias"></div>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
async function cargarNoticias() {
  const contenedor = document.getElementById('noticias');
  contenedor.innerHTML = '';

  const archivos = [
    '/content/noticias/2025-11-10-actividad-economica-sigue-en-expansion.md',
    '/content/noticias/2025-11-11-primera-noticia-de-ejemplo.md'
  ];

  for (const archivo of archivos) {
    try {
      const res = await fetch(archivo);
      if (!res.ok) {
        console.warn('No se pudo cargar:', archivo);
        continue;
      }

      const texto = await res.text();

      // Quitar cabecera YAML (--- ... ---)
      const body = texto.replace(/---[\s\S]*?---/, '').trim();
      const html = marked.parse(body);

      const div = document.createElement('article');
      div.classList.add('noticia');
      div.innerHTML = html;
      contenedor.appendChild(div);
    } catch (err) {
      console.error('Error cargando noticia', archivo, err);
    }
  }
}

cargarNoticias();
</script>

</body>
</html>
